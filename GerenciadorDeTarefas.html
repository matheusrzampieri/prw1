<!DOCTYPE html>
<html lang="pt-br">
<head>
<meta charset="UTF-8">
<title>Gerenciador de Tarefas</title>
<style>
  .feito { text-decoration: line-through; color: gray; }
  li { display: flex; align-items: center; margin: 5px 0; }
  li span { margin-left: 8px; flex: 1; }
  button { margin-left: 10px; }
</style>
</head>
<body>
<h1>Gerenciador de Tarefas</h1>

<input type="text" id="novaTarefa" placeholder="Digite a tarefa">
<button id="adicionarBtn">Adicionar</button>
<button id="limparConcluidas">Limpar conclu√≠das</button>

<ul id="listaTarefas"></ul>

<script>
const input = document.getElementById('novaTarefa');
const adicionarBtn = document.getElementById('adicionarBtn');
const limparBtn = document.getElementById('limparConcluidas');
const lista = document.getElementById('listaTarefas');

let tarefas = JSON.parse(localStorage.getItem('tarefas')) || [];

function salvarTarefas() {
    localStorage.setItem('tarefas', JSON.stringify(tarefas));
}

function renderizarTarefas() {
    lista.innerHTML = '';
    tarefas.forEach((tarefa, index) => {
        const li = document.createElement('li');

        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.checked = tarefa.feita;
        checkbox.addEventListener('change', () => {
            tarefas[index].feita = checkbox.checked;
            salvarTarefas();
            renderizarTarefas();
        });

        const span = document.createElement('span');
        span.textContent = tarefa.texto;
        if (tarefa.feita) span.classList.add('feito');

        const btnDeletar = document.createElement('button');
        btnDeletar.textContent = 'X';
        btnDeletar.addEventListener('click', () => {
            tarefas.splice(index, 1);
            salvarTarefas();
            renderizarTarefas();
        });

        li.appendChild(checkbox);
        li.appendChild(span);
        li.appendChild(btnDeletar);
        lista.appendChild(li);
    });
}

adicionarBtn.addEventListener('click', () => {
    const texto = input.value.trim();
    if (texto !== '') {
        tarefas.push({ texto, feita: false });
        salvarTarefas();
        renderizarTarefas();
        input.value = '';
    }
});

input.addEventListener('keypress', (e) => {
    if (e.key === 'Enter') adicionarBtn.click();
});

limparBtn.addEventListener('click', () => {
    tarefas = tarefas.filter(tarefa => !tarefa.feita);
    salvarTarefas();
    renderizarTarefas();
});

renderizarTarefas();
</script>
</body>
</html>
